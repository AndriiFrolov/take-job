
<!-- saved from url=(0134)https://otv.verwalt-berlin.de/ams/TerminBuchen/wizardng/addb7221-9a99-4c83-a47d-a0a897bd7c2e?dswid=4369&dsrid=131&st=2&v=1673910728893 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="color-scheme" content="light dark"></head><body><div class="line-gutter-backdrop"></div><form autocomplete="off"><label class="line-wrap-control">Line wrap<input type="checkbox" aria-label="Line wrap"></label></form><table><tbody><tr><td class="line-number" value="1"></td><td class="line-content"><span class="html-comment">&lt;!--</span></td></tr><tr><td class="line-number" value="2"></td><td class="line-content"><span class="html-comment">  ~ Licensed to the Apache Software Foundation (ASF) under one</span></td></tr><tr><td class="line-number" value="3"></td><td class="line-content"><span class="html-comment">  ~ or more contributor license agreements. See the NOTICE file</span></td></tr><tr><td class="line-number" value="4"></td><td class="line-content"><span class="html-comment">  ~ distributed with this work for additional information</span></td></tr><tr><td class="line-number" value="5"></td><td class="line-content"><span class="html-comment">  ~ regarding copyright ownership. The ASF licenses this file</span></td></tr><tr><td class="line-number" value="6"></td><td class="line-content"><span class="html-comment">  ~ to you under the Apache License, Version 2.0 (the</span></td></tr><tr><td class="line-number" value="7"></td><td class="line-content"><span class="html-comment">  ~ "License"); you may not use this file except in compliance</span></td></tr><tr><td class="line-number" value="8"></td><td class="line-content"><span class="html-comment">  ~ with the License. You may obtain a copy of the License at</span></td></tr><tr><td class="line-number" value="9"></td><td class="line-content"><span class="html-comment">  ~</span></td></tr><tr><td class="line-number" value="10"></td><td class="line-content"><span class="html-comment">  ~ http://www.apache.org/licenses/LICENSE-2.0</span></td></tr><tr><td class="line-number" value="11"></td><td class="line-content"><span class="html-comment">  ~</span></td></tr><tr><td class="line-number" value="12"></td><td class="line-content"><span class="html-comment">  ~ Unless required by applicable law or agreed to in writing,</span></td></tr><tr><td class="line-number" value="13"></td><td class="line-content"><span class="html-comment">  ~ software distributed under the License is distributed on an</span></td></tr><tr><td class="line-number" value="14"></td><td class="line-content"><span class="html-comment">  ~ "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span></td></tr><tr><td class="line-number" value="15"></td><td class="line-content"><span class="html-comment">  ~ KIND, either express or implied. See the License for the</span></td></tr><tr><td class="line-number" value="16"></td><td class="line-content"><span class="html-comment">  ~ specific language governing permissions and limitations</span></td></tr><tr><td class="line-number" value="17"></td><td class="line-content"><span class="html-comment">  ~ under the License.</span></td></tr><tr><td class="line-number" value="18"></td><td class="line-content"><span class="html-comment">  --&gt;</span></td></tr><tr><td class="line-number" value="19"></td><td class="line-content"></td></tr><tr><td class="line-number" value="20"></td><td class="line-content"><span class="html-doctype">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"</span></td></tr><tr><td class="line-number" value="21"></td><td class="line-content"><span class="html-doctype">   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</span></td></tr><tr><td class="line-number" value="22"></td><td class="line-content"><span class="html-tag">&lt;html <span class="html-attribute-name">xmlns</span>="<span class="html-attribute-value">http://www.w3.org/1999/xhtml</span>"&gt;</span></td></tr><tr><td class="line-number" value="23"></td><td class="line-content">    <span class="html-tag">&lt;head&gt;</span></td></tr><tr><td class="line-number" value="24"></td><td class="line-content">        <span class="html-tag">&lt;title&gt;</span>Ladeseite...<span class="html-tag">&lt;/title&gt;</span></td></tr><tr><td class="line-number" value="25"></td><td class="line-content">        <span class="html-tag">&lt;meta <span class="html-attribute-name">http-equiv</span>="<span class="html-attribute-value">content-type</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">text/html;charset=utf-8</span>" /&gt;</span></td></tr><tr><td class="line-number" value="26"></td><td class="line-content">        <span class="html-tag">&lt;script <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/javascript</span>" <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://otv.verwalt-berlin.de/javax.faces.resource/deltaspike/windowhandler.js.xhtml" rel="noreferrer noopener">/javax.faces.resource/deltaspike/windowhandler.js.xhtml</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="27"></td><td class="line-content">        <span class="html-tag">&lt;style <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/css</span>"&gt;</span></td></tr><tr><td class="line-number" value="28"></td><td class="line-content">            #message {</td></tr><tr><td class="line-number" value="29"></td><td class="line-content">                width: 350px;</td></tr><tr><td class="line-number" value="30"></td><td class="line-content">                height: 50px;</td></tr><tr><td class="line-number" value="31"></td><td class="line-content">                margin: -25px 0 0 -175px;</td></tr><tr><td class="line-number" value="32"></td><td class="line-content">                position: absolute;</td></tr><tr><td class="line-number" value="33"></td><td class="line-content">                left: 50%;</td></tr><tr><td class="line-number" value="34"></td><td class="line-content">                top: 50%;</td></tr><tr><td class="line-number" value="35"></td><td class="line-content">                font-family: arial,sans-serif;</td></tr><tr><td class="line-number" value="36"></td><td class="line-content">                font-size: 16px;</td></tr><tr><td class="line-number" value="37"></td><td class="line-content">                text-align: center;</td></tr><tr><td class="line-number" value="38"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="39"></td><td class="line-content">        <span class="html-tag">&lt;/style&gt;</span></td></tr><tr><td class="line-number" value="40"></td><td class="line-content">        <span class="html-tag">&lt;style <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/css</span>"&gt;</span>Erklï¿½rung Historie<span class="html-tag">&lt;/style&gt;</span></td></tr><tr><td class="line-number" value="41"></td><td class="line-content">    <span class="html-tag">&lt;/head&gt;</span></td></tr><tr><td class="line-number" value="42"></td><td class="line-content">    <span class="html-tag">&lt;body&gt;</span></td></tr><tr><td class="line-number" value="43"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">loading</span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="44"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">message</span>" <span class="html-attribute-name">style</span>=""&gt;</span></td></tr><tr><td class="line-number" value="45"></td><td class="line-content">            Your browser does not support JavaScript.<span class="html-tag">&lt;br/&gt;</span></td></tr><tr><td class="line-number" value="46"></td><td class="line-content">            Click <span class="html-tag">&lt;a <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://otv.verwalt-berlin.de/ams/TerminBuchen/wizardng/addb7221-9a99-4c83-a47d-a0a897bd7c2e?mfDirect=true" rel="noreferrer noopener">?mfDirect=true</a>"&gt;</span>here<span class="html-tag">&lt;/a&gt;</span> to continue without JavaScript.</td></tr><tr><td class="line-number" value="47"></td><td class="line-content">        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="48"></td><td class="line-content"></td></tr><tr><td class="line-number" value="49"></td><td class="line-content">        <span class="html-tag">&lt;script <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/javascript</span>"&gt;</span></td></tr><tr><td class="line-number" value="50"></td><td class="line-content">            //&lt;![CDATA[</td></tr><tr><td class="line-number" value="51"></td><td class="line-content">            function addCss(url) {</td></tr><tr><td class="line-number" value="52"></td><td class="line-content">                var newSS = document.createElement("style");</td></tr><tr><td class="line-number" value="53"></td><td class="line-content">                newSS.setAttribute("rel", "stylesheet");</td></tr><tr><td class="line-number" value="54"></td><td class="line-content">                newSS.setAttribute("type", "text/css");</td></tr><tr><td class="line-number" value="55"></td><td class="line-content">                newSS.appendChild(document.createTextNode("@import url(" +url + ");"));</td></tr><tr><td class="line-number" value="56"></td><td class="line-content">                document.getElementsByTagName("head")[0].appendChild(newSS);</td></tr><tr><td class="line-number" value="57"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="58"></td><td class="line-content"></td></tr><tr><td class="line-number" value="59"></td><td class="line-content">            function loadCss(clean) {</td></tr><tr><td class="line-number" value="60"></td><td class="line-content">                // We don't need to restore the old css on initial requests or if &lt; html5</td></tr><tr><td class="line-number" value="61"></td><td class="line-content">                if (!dswh.utils.isHtml5() || !window.name) {</td></tr><tr><td class="line-number" value="62"></td><td class="line-content">                    return;</td></tr><tr><td class="line-number" value="63"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="64"></td><td class="line-content"></td></tr><tr><td class="line-number" value="65"></td><td class="line-content">                var oldCss = dswh.utils.unstringify(localStorage.getItem(window.name + '_css'));</td></tr><tr><td class="line-number" value="66"></td><td class="line-content">                if (oldCss) {</td></tr><tr><td class="line-number" value="67"></td><td class="line-content">                    for (var i = 0; i &lt; oldCss.length; i++) {</td></tr><tr><td class="line-number" value="68"></td><td class="line-content">                        addCss(oldCss[i]);</td></tr><tr><td class="line-number" value="69"></td><td class="line-content">                    }</td></tr><tr><td class="line-number" value="70"></td><td class="line-content">                    if (clean) {</td></tr><tr><td class="line-number" value="71"></td><td class="line-content">                        localStorage.removeItem(window.name + '_css');</td></tr><tr><td class="line-number" value="72"></td><td class="line-content">                    }</td></tr><tr><td class="line-number" value="73"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="74"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="75"></td><td class="line-content"></td></tr><tr><td class="line-number" value="76"></td><td class="line-content">            function replaceContent() {</td></tr><tr><td class="line-number" value="77"></td><td class="line-content">                if (document.body.textContent) {</td></tr><tr><td class="line-number" value="78"></td><td class="line-content">                    document.getElementById('message').textContent = "";</td></tr><tr><td class="line-number" value="79"></td><td class="line-content">                } else {</td></tr><tr><td class="line-number" value="80"></td><td class="line-content">                    document.getElementById('message').innerText = "";</td></tr><tr><td class="line-number" value="81"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="82"></td><td class="line-content"></td></tr><tr><td class="line-number" value="83"></td><td class="line-content">                // We don't need to restore the old windowtree on initial requests or if &lt; html5</td></tr><tr><td class="line-number" value="84"></td><td class="line-content">                if (!dswh.utils.isHtml5() || !window.name) {</td></tr><tr><td class="line-number" value="85"></td><td class="line-content">                    return;</td></tr><tr><td class="line-number" value="86"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="87"></td><td class="line-content"></td></tr><tr><td class="line-number" value="88"></td><td class="line-content">                loadCss(false);</td></tr><tr><td class="line-number" value="89"></td><td class="line-content"></td></tr><tr><td class="line-number" value="90"></td><td class="line-content">                var oldBody = localStorage.getItem(window.name + '_body');</td></tr><tr><td class="line-number" value="91"></td><td class="line-content">                if (oldBody) {</td></tr><tr><td class="line-number" value="92"></td><td class="line-content">                    document.body.innerHTML = oldBody;</td></tr><tr><td class="line-number" value="93"></td><td class="line-content"></td></tr><tr><td class="line-number" value="94"></td><td class="line-content">                    var attributes = dswh.utils.unstringify(localStorage.getItem(window.name + '_bodyAttributes'));</td></tr><tr><td class="line-number" value="95"></td><td class="line-content">                    for (var attributeName in attributes) {</td></tr><tr><td class="line-number" value="96"></td><td class="line-content">                        if (attributes.hasOwnProperty(attributeName)) {</td></tr><tr><td class="line-number" value="97"></td><td class="line-content">                            document.body.setAttribute(attributeName, attributes[attributeName]);</td></tr><tr><td class="line-number" value="98"></td><td class="line-content">                        }</td></tr><tr><td class="line-number" value="99"></td><td class="line-content">                    }</td></tr><tr><td class="line-number" value="100"></td><td class="line-content"></td></tr><tr><td class="line-number" value="101"></td><td class="line-content">                    window.scrollTo(localStorage.getItem(window.name + '_scrollLeft'),</td></tr><tr><td class="line-number" value="102"></td><td class="line-content">                                    localStorage.getItem(window.name + '_scrollTop'));</td></tr><tr><td class="line-number" value="103"></td><td class="line-content"></td></tr><tr><td class="line-number" value="104"></td><td class="line-content">                    localStorage.removeItem(window.name + '_body');</td></tr><tr><td class="line-number" value="105"></td><td class="line-content">                    localStorage.removeItem(window.name + '_bodyAttributes');</td></tr><tr><td class="line-number" value="106"></td><td class="line-content">                    localStorage.removeItem(window.name + '_scrollTop');</td></tr><tr><td class="line-number" value="107"></td><td class="line-content">                    localStorage.removeItem(window.name + '_scrollLeft');</td></tr><tr><td class="line-number" value="108"></td><td class="line-content"></td></tr><tr><td class="line-number" value="109"></td><td class="line-content">                    // overlay the doc with an un-clickable full-size div</td></tr><tr><td class="line-number" value="110"></td><td class="line-content">                    var overlay = document.createElement("div");</td></tr><tr><td class="line-number" value="111"></td><td class="line-content">                    overlay.setAttribute("style", "cursor: wait !important; position:absolute; z-index:1000; background-color:transparent; top:0; left:0; width:100%; height: 100%; background: url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);");</td></tr><tr><td class="line-number" value="112"></td><td class="line-content">                    overlay.setAttribute("class", "fulldiv");</td></tr><tr><td class="line-number" value="113"></td><td class="line-content">                    document.body.appendChild(overlay);</td></tr><tr><td class="line-number" value="114"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="115"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="116"></td><td class="line-content"></td></tr><tr><td class="line-number" value="117"></td><td class="line-content">            replaceContent();</td></tr><tr><td class="line-number" value="118"></td><td class="line-content"></td></tr><tr><td class="line-number" value="119"></td><td class="line-content">            window.onload = function() {</td></tr><tr><td class="line-number" value="120"></td><td class="line-content">                if (dswh.DEBUG_MODE === true){</td></tr><tr><td class="line-number" value="121"></td><td class="line-content">                    if (!confirm('reload?')) {</td></tr><tr><td class="line-number" value="122"></td><td class="line-content">                        return true;</td></tr><tr><td class="line-number" value="123"></td><td class="line-content">                    }</td></tr><tr><td class="line-number" value="124"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="125"></td><td class="line-content"></td></tr><tr><td class="line-number" value="126"></td><td class="line-content">                loadCss(true);</td></tr><tr><td class="line-number" value="127"></td><td class="line-content"></td></tr><tr><td class="line-number" value="128"></td><td class="line-content">                var windowId = dswh.utils.getWindowIdFromWindowName();</td></tr><tr><td class="line-number" value="129"></td><td class="line-content"></td></tr><tr><td class="line-number" value="130"></td><td class="line-content">                function requestNewWindowId() {</td></tr><tr><td class="line-number" value="131"></td><td class="line-content">                    windowId = dswh.utils.generateNewWindowId();</td></tr><tr><td class="line-number" value="132"></td><td class="line-content">                    dswh.utils.setWindowIdAsWindowName(windowId);</td></tr><tr><td class="line-number" value="133"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="134"></td><td class="line-content"></td></tr><tr><td class="line-number" value="135"></td><td class="line-content">                dswh.utils.log('------- DeltaSpike windowhandler.html -------');</td></tr><tr><td class="line-number" value="136"></td><td class="line-content">                dswh.utils.log('windowId: ' + windowId);</td></tr><tr><td class="line-number" value="137"></td><td class="line-content">                dswh.utils.log('window.name: ' + window.name);</td></tr><tr><td class="line-number" value="138"></td><td class="line-content"></td></tr><tr><td class="line-number" value="139"></td><td class="line-content">                if (dswh.utils.isWindowNameDefined()) {</td></tr><tr><td class="line-number" value="140"></td><td class="line-content">                    if (!dswh.utils.isManagedWindowName()) {</td></tr><tr><td class="line-number" value="141"></td><td class="line-content"></td></tr><tr><td class="line-number" value="142"></td><td class="line-content">                        dswh.utils.log('window name unmanaged - request new windowId');</td></tr><tr><td class="line-number" value="143"></td><td class="line-content"></td></tr><tr><td class="line-number" value="144"></td><td class="line-content">                        requestNewWindowId();</td></tr><tr><td class="line-number" value="145"></td><td class="line-content">                    }</td></tr><tr><td class="line-number" value="146"></td><td class="line-content">                    else {</td></tr><tr><td class="line-number" value="147"></td><td class="line-content">                        // occurs with the "duplicate tab" feature of chrome</td></tr><tr><td class="line-number" value="148"></td><td class="line-content">                        if (windowId === dswh.TEMP_WINDOW_NAME) {</td></tr><tr><td class="line-number" value="149"></td><td class="line-content"></td></tr><tr><td class="line-number" value="150"></td><td class="line-content">                            dswh.utils.log('window name is temporary - request new windowId');</td></tr><tr><td class="line-number" value="151"></td><td class="line-content"></td></tr><tr><td class="line-number" value="152"></td><td class="line-content">                            requestNewWindowId();</td></tr><tr><td class="line-number" value="153"></td><td class="line-content">                        }</td></tr><tr><td class="line-number" value="154"></td><td class="line-content">                    }</td></tr><tr><td class="line-number" value="155"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="156"></td><td class="line-content">                // window name is undefined, which means that "open in new tab/window" was used</td></tr><tr><td class="line-number" value="157"></td><td class="line-content">                else {</td></tr><tr><td class="line-number" value="158"></td><td class="line-content">                    var newWindowId = 'uninitializedWindowId';</td></tr><tr><td class="line-number" value="159"></td><td class="line-content"></td></tr><tr><td class="line-number" value="160"></td><td class="line-content">                    dswh.utils.log('newWindowId ' + newWindowId);</td></tr><tr><td class="line-number" value="161"></td><td class="line-content"></td></tr><tr><td class="line-number" value="162"></td><td class="line-content">                    if (newWindowId === 'uninitializedWindowId') {</td></tr><tr><td class="line-number" value="163"></td><td class="line-content">                        dswh.utils.log('windowId not initialized - request new windowId');</td></tr><tr><td class="line-number" value="164"></td><td class="line-content"></td></tr><tr><td class="line-number" value="165"></td><td class="line-content">                        requestNewWindowId();</td></tr><tr><td class="line-number" value="166"></td><td class="line-content">                    }</td></tr><tr><td class="line-number" value="167"></td><td class="line-content">                    else {</td></tr><tr><td class="line-number" value="168"></td><td class="line-content">                        dswh.utils.log('assign window name from newWindowId');</td></tr><tr><td class="line-number" value="169"></td><td class="line-content"></td></tr><tr><td class="line-number" value="170"></td><td class="line-content">                        dswh.utils.setWindowIdAsWindowName(newWindowId); // set the window.name with our windowId</td></tr><tr><td class="line-number" value="171"></td><td class="line-content">                        windowId = newWindowId;</td></tr><tr><td class="line-number" value="172"></td><td class="line-content">                    }</td></tr><tr><td class="line-number" value="173"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="174"></td><td class="line-content"></td></tr><tr><td class="line-number" value="175"></td><td class="line-content">                var requestToken = dswh.utils.generateNewRequestToken();</td></tr><tr><td class="line-number" value="176"></td><td class="line-content"></td></tr><tr><td class="line-number" value="177"></td><td class="line-content">                var redirectUrl = '/ams/TerminBuchen/wizardng/addb7221-9a99-4c83-a47d-a0a897bd7c2e?dsrid=131&amp;dswid=4369&amp;st=2&amp;v=1673910728893';</td></tr><tr><td class="line-number" value="178"></td><td class="line-content">                redirectUrl = dswh.utils.setUrlParam(redirectUrl, "dsrid", requestToken);</td></tr><tr><td class="line-number" value="179"></td><td class="line-content">                // we still add the windowId page param to support lazy windowId dropping for some clients</td></tr><tr><td class="line-number" value="180"></td><td class="line-content">                redirectUrl = dswh.utils.setUrlParam(redirectUrl, "dswid", windowId);</td></tr><tr><td class="line-number" value="181"></td><td class="line-content"></td></tr><tr><td class="line-number" value="182"></td><td class="line-content">                dswh.utils.storeCookie('dsrwid-' + requestToken, windowId, 3);</td></tr><tr><td class="line-number" value="183"></td><td class="line-content"></td></tr><tr><td class="line-number" value="184"></td><td class="line-content">                dswh.utils.log('redirect to ' + redirectUrl);</td></tr><tr><td class="line-number" value="185"></td><td class="line-content"></td></tr><tr><td class="line-number" value="186"></td><td class="line-content">                window.location = redirectUrl;</td></tr><tr><td class="line-number" value="187"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="188"></td><td class="line-content">            //]]&gt;</td></tr><tr><td class="line-number" value="189"></td><td class="line-content">        <span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="190"></td><td class="line-content">    <span class="html-tag">&lt;/body&gt;</span></td></tr><tr><td class="line-number" value="191"></td><td class="line-content"><span class="html-tag">&lt;/html&gt;</span></td></tr><tr><td class="line-number" value="192"></td><td class="line-content"><span class="html-end-of-file"></span></td></tr></tbody></table></body></html>